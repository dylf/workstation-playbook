---
- hosts: localhost
  connection: local
  become: true

  roles:
    - brave
  tasks:
    - name: install packages
      package:
        state: present
        name:
          - flatpak
          - htop
          - steam
          - vim
          - virt-manager
          - vlc

    - name: Add the flathub flatpak repository remote to the user installation
      flatpak_remote:
        name: flathub
        state: present
        flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo
        method: system

    - name: Install Bitwarden
      flatpak:
        state: present
        name: com.bitwarden.desktop
        method: system

    - name: Install GreenWithEnvy
      flatpak:
        name: com.leinardi.gwe
        state: present
        method: system

    - name: Install Heroic
      flatpak:
        name: com.heroicgameslauncher.hgl
        state: present
        method: system

    - name: Install Joplin
      flatpak:
        name: net.cozic.joplin_desktop
        state: present
        method: system

    - name: Install Mattermost
      flatpak:
        name: com.mattermost.desktop
        state: present
        method: system

    - name: Install OpenRGB
      flatpak:
        name: org.openrgb.OpenRGB
        state: present
        method: system

    - name: Install Signal
      flatpak:
        name: org.signal.Signal
        state: present
        method: system

    - name: Install Slack
      flatpak:
        name: com.slack.Slack
        state: present
        method: system

    - name: Install Spotify
      flatpak:
        name: com.spotify.Client
        state: present
        method: system

    - name: Install Zoom
      flatpak:
        name: us.zoom.Zoom
        state: present
        method: system
